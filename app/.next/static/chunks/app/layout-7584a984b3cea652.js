(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8798:function(e,t,o){Promise.resolve().then(o.t.bind(o,1034,23)),Promise.resolve().then(o.bind(o,3580)),Promise.resolve().then(o.t.bind(o,3054,23)),Promise.resolve().then(o.bind(o,4638)),Promise.resolve().then(o.bind(o,2383))},2383:function(e,t,o){"use strict";o.d(t,{default:function(){return u}});var r=o(7437),n=o(2265),l=o(7138),s=o(6463),a=o(6648),i={src:"/_next/static/media/logo.b0d6d7be.png",height:740,width:740,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEX////6+vny8fK/wMXe7MDq8N3R0tPq6+rz+Ojo6OnY4MjckDy/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMElEQVR4nE3IOQ4AIAwDQcfOAf//MAqhYJuVBvhaMTd3DrjqgkWaASgptVtIsuV1AA3wAGc7mqouAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},c=o(4638),u=()=>{let e=(0,s.useRouter)(),[t,o]=(0,n.useState)(!1),[u,d]=(0,n.useState)(0),[h,m]=(0,n.useState)(!1),{user:f,updateUser:x}=(0,c.K)();(0,n.useEffect)(()=>{let e=localStorage.getItem("cartCount");e&&d(parseInt(e))},[]);let g=()=>{m(!1)},A=()=>{localStorage.removeItem("loggedIn"),localStorage.removeItem("jwt"),e.push("/login")};return(0,r.jsx)("header",{className:"text-white body-font fixed font-bold bg-transparent backdrop-blur z-10 w-full",children:(0,r.jsxs)("div",{className:"container flex flex-wrap py-[20px] px-[20px] md:px-[100px] flex-col md:flex-row items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between w-full md:w-auto",children:[(0,r.jsx)(l.default,{href:"/",className:"title-font font-medium text-gray-900 mb-4 md:mb-0",children:(0,r.jsx)(a.default,{className:"rounded-full",src:i,width:"50",alt:"Logo"})}),(0,r.jsx)("button",{className:"inline-flex items-center md:hidden text-white focus:outline-none",onClick:()=>m(!h),children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"w-6 h-6",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M4 6h16M4 12h16M4 18h16"})})})]}),(0,r.jsxs)("nav",{className:"md:ml-auto flex flex-col md:flex-row items-center text-base justify-center ".concat(h?"block":"hidden"," md:block w-full md:w-auto"),children:[(0,r.jsx)(l.default,{onClick:g,href:"/",className:"mr-5 hover:text-gray-500 py-2",children:"HOME"}),(0,r.jsx)(l.default,{onClick:g,href:"#contact",className:"mr-5 hover:text-gray-500 py-2",children:"CONTACT"}),(0,r.jsx)(l.default,{onClick:g,href:"/createproduct",className:"mr-5 hover:text-gray-500 py-2",children:"SELL"}),f?(0,r.jsxs)("button",{onClick:()=>{A(),g()},className:"inline-flex items-center text-black bg-[#cfff13] border-0 py-1 px-3 focus:outline-none hover:bg-gray-200 rounded text-base mt-4 md:mt-0",children:["LOGOUT",(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"w-4 h-4 ml-1",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}):(0,r.jsxs)("button",{onClick:()=>e.push("/login"),className:"inline-flex items-center bg-[#cfff13] text-black border-0 py-1 px-3 focus:outline-none rounded text-base mt-4 md:mt-0",children:["LOGIN",(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"w-4 h-4 ml-1",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})]})})}},4638:function(e,t,o){"use strict";o.d(t,{K:function(){return a},UserProvider:function(){return i}});var r=o(7437),n=o(6463),l=o(2265);let s=(0,l.createContext)(null),a=()=>(0,l.useContext)(s),i=e=>{let{children:t}=e,[o,a]=(0,l.useState)(null),i=(0,n.useRouter)(),c=(0,n.usePathname)(),u=()=>localStorage.getItem("jwt"),d=async()=>{try{let e=u();if(console.log(c,"pathname ishere"),!e&&"/login"!==c&&"/register"!==c&&!c.includes("/reset-password")){i.push("/login");return}let t=await fetch("".concat("http://localhost:5000","/api/user/me"),{method:"GET",headers:{Authorization:"".concat(e)}});if(t.ok){let e=await t.json();a(e),localStorage.setItem("loggedIn","true"),"/login"==c||"/register"==c||"resetpage"==c?i.push("/"):i.push(c)}else h()}catch(e){console.error("Error fetching user:",e),h()}};(0,l.useEffect)(()=>{d()},[c]),(0,l.useEffect)(()=>{let e=async e=>{try{if((await fetch("your-token-verification-url",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).ok)return!0;return!1}catch(e){return console.error("Error verifying token:",e),!1}},t=u();t&&!e(t)&&(a(null),localStorage.removeItem("jwt"),i.push("/login"))},[]);let h=()=>{a(null),localStorage.removeItem("jwt"),localStorage.removeItem("loggedIn")};return(0,r.jsx)(s.Provider,{value:{user:o,login:e=>{a(e),console.log(e,"userData+++"),localStorage.setItem("jwt",e.token||""),i.push("/home")},logout:h,checkLocalStorage:u,updateUser:e=>{a(e)}},children:t})}},3054:function(){},1034:function(e){e.exports={style:{fontFamily:"'__Inter_aaf875', '__Inter_Fallback_aaf875'",fontStyle:"normal"},className:"__className_aaf875"}}},function(e){e.O(0,[6,291,648,580,971,23,744],function(){return e(e.s=8798)}),_N_E=e.O()}]);